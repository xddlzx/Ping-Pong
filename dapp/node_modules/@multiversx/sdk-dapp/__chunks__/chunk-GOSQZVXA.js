import{a as l}from"./chunk-FLUNZNP6.js";import{a as T}from"./chunk-SSNWR7WF.js";import{a as p}from"./chunk-7UIADIJ3.js";import{c as u}from"./chunk-4NFNYA6L.js";import{a as b}from"./chunk-OC3TXL2V.js";import{b as i}from"./chunk-ATR67GE7.js";import{a as g}from"./chunk-COFGP7BF.js";import{j as d,m as f}from"./chunk-HBP5N4FR.js";f();import{useCallback as m}from"react";b();g();function k(){let r=u(),{address:S}=T(),h=m(({sessionId:s,dropUnprocessedTransactions:a,serverTransactions:c,batchTransactions:e})=>{for(let t of e){let o=c.find(n=>n.txHash===t.hash);if(!o){a&&r(i({sessionId:s,status:"fail",transactionHash:t.hash}));continue}r(i({sessionId:s,status:o.status,transactionHash:t.hash,serverTransaction:o}))}},[r]);return m(s=>d(this,null,function*(){if(!s)return;let{transactions:a,isBatchFailed:c,sessionId:e}=s;if(!a||a.length===0)return;if(c){for(let n of a)r(i({sessionId:e,status:"fail",transactionHash:n.hash}));return}let{data:t,success:o}=yield l(a.map(({hash:n})=>n).filter(n=>Boolean(n)));o&&t&&h({sessionId:e,dropUnprocessedTransactions:s.dropUnprocessedTransactions,serverTransactions:t,batchTransactions:a}),s.shouldRefreshBalance&&(yield p())}),[r,S,h])}export{k as a};
//# sourceMappingURL=chunk-GOSQZVXA.js.map
