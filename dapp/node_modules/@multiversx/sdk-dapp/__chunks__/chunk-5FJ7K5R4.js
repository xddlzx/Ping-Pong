import{a as V}from"./chunk-TWOOX54R.js";import{c as Cn,d as vn}from"./chunk-57WLUEZA.js";import{a as A}from"./chunk-43PHZ72L.js";import{a as z}from"./chunk-GAGVTIFK.js";import{a as T}from"./chunk-TXAITGIS.js";import{a as Q}from"./chunk-ZXZXEDS2.js";import{b as I}from"./chunk-MKCCZEMM.js";import{a as B}from"./chunk-IFP5WV47.js";import{x as ln}from"./chunk-27TQ2JCD.js";import{a as E,b as pn}from"./chunk-OWBHRN3S.js";import{a as M,i as fn,j as W,m as c}from"./chunk-HBP5N4FR.js";c();import o,{useEffect as D,useState as sn}from"react";import{faCircleNotch as Pn}from"@fortawesome/free-solid-svg-icons";import a from"classnames";import Nn from"qrcode";c();import*as i from"react";var gn=d=>i.createElement("svg",M({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 31.114 44.981",width:16,height:16},d),i.createElement("g",{transform:"translate(-47.168 -21.519)"},i.createElement("g",{transform:"translate(-247.872 -130.693)"},i.createElement("path",{d:"M355.676,152.213l-3.832,17.8h-9.661Z",transform:"translate(-40.089 1)",fillRule:"evenodd",fill:"#fff"}),i.createElement("path",{d:"M326.45,271.184l-7.053,9.379H295.04l7.054-9.379Z",transform:"translate(0 -101.17)",fillRule:"evenodd",fill:"#fff"}),i.createElement("path",{d:"M381.139,333.864l-13.493,17.8,3.832-17.8Z",transform:"translate(-61.742 -155.472)",fillRule:"evenodd",fill:"#fff"})))),k=gn;ln();pn();var wn=({callbackRoute:d,className:H="dapp-wallet-connect-login-modal",customSpinnerComponent:p,innerWalletConnectComponentsClasses:Z,lead:_="Scan the QR code using the xPortal App",loginButtonText:q="xPortal App",logoutRoute:S,nativeAuth:U,onLoginRedirect:X,showScamPhishingAlert:C=!0,title:j="Login with the xPortal App",token:v,globalStyles:t,styles:n,customRequestMethods:F=[]})=>{var s;let[G,{error:h,isLoading:J},{connectExisting:K,removeExistingPairing:O,uriDeepLink:f,walletConnectUri:l,wcPairings:m}]=I({callbackRoute:d,token:v,nativeAuth:U,onLoginRedirect:X,logoutRoute:S,customRequestMethods:F}),[u,Y]=sn(""),{containerContentClassName:$,containerScamPhishingAlertClassName:x,containerTitleClassName:b,containerSubtitleClassName:R,containerErrorClassName:y,containerQrCodeClassName:nn,containerLoaderClassName:on,containerButtonClassName:tn,walletConnectPairingListClassNames:rn}=Z||{},an=T(),g=(s=m==null?void 0:m.filter(r=>{let dn=m.some(e=>{var P,N,w,L;return((P=r.peerMetadata)==null?void 0:P.name)===((N=e==null?void 0:e.peerMetadata)==null?void 0:N.name)&&((w=r.peerMetadata)==null?void 0:w.url)===((L=e==null?void 0:e.peerMetadata)==null?void 0:L.url)&&r.expiry<e.expiry});return Boolean(r.active)&&r.peerMetadata&&!dn}))!=null?s:[],en=()=>W(void 0,null,function*(){if(!l)return;let r=yield Nn.toString(l,{type:"svg"});r&&Y(r)});D(()=>{en()},[l]),D(()=>{G()},[]);let mn=C?B(v,x):void 0,cn=!J&&u&&f;return o.createElement(o.Fragment,null,C&&o.createElement(A,{url:E().origin,authorizationInfo:mn,className:x}),o.createElement("div",{className:a(n==null?void 0:n.xPortalContent,$)},o.createElement("div",{className:a(n==null?void 0:n.xPortalContainerHeading,b)},j),o.createElement("div",{className:a(n==null?void 0:n.xPortalContainerSubheading,R)},_),o.createElement("div",null,h&&o.createElement("p",{className:a(n==null?void 0:n.xPortalContainerError,y)},h)),cn?o.createElement(o.Fragment,null,o.createElement("div",{className:a(n==null?void 0:n.xPortalQrCode,nn),dangerouslySetInnerHTML:{__html:u}}),an&&f&&o.createElement("a",{id:"accessWalletBtn","data-testid":"accessWalletBtn",href:f,rel:"noopener noreferrer nofollow",target:"_blank",className:a(t==null?void 0:t.btn,t==null?void 0:t.btnPrimary,n==null?void 0:n.xPortalContainerButton,tn)},o.createElement(k,{className:n==null?void 0:n.xPortalContainerButtonIcon}),q),g.length>0&&o.createElement(V,{activePairings:g,connectExisting:K,removeExistingPairing:O,className:H,pairingListClasses:rn})):o.createElement("div",{className:a(n==null?void 0:n.xPortalLoader,on)},p||o.createElement(z,{iconSize:"10x",icon:Pn,iconClass:a("fa-spin",t==null?void 0:t.textPrimary)}))))},Sn=Q(wn,{ssrStyles:()=>import("../UI/walletConnect/WalletConnectLoginContainer/walletConnectLoginContainerStyles.js"),clientStyles:()=>(vn(),fn(Cn)).default});export{Sn as a};
//# sourceMappingURL=chunk-5FJ7K5R4.js.map
