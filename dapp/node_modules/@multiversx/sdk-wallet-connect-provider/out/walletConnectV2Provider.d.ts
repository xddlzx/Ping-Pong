import { Message, Transaction } from "@multiversx/sdk-core";
import Client from "@walletconnect/sign-client";
import { EngineTypes, PairingTypes, SessionTypes, SignClientTypes } from "@walletconnect/types";
import { WalletConnectV2ProviderErrorMessagesEnum } from "./errors";
import { Operation, OptionalOperation } from "./operation";
import { ConnectParamsTypes } from "./utils";
interface SessionEventTypes {
    event: {
        name: string;
        data: any;
    };
    chainId: string;
}
interface IClientConnect {
    onClientLogin: () => void;
    onClientLogout(): void;
    onClientEvent: (event: SessionEventTypes["event"]) => void;
}
export { PairingTypes, SessionTypes, SessionEventTypes, ConnectParamsTypes, EngineTypes, WalletConnectV2ProviderErrorMessagesEnum, Operation, OptionalOperation, };
export interface IProviderAccount {
    address: string;
    signature?: string;
}
export type WalletConnectV2ProviderOptionsType = SignClientTypes.Options | undefined;
export declare class WalletConnectV2Provider {
    walletConnectV2Relay: string;
    walletConnectV2ProjectId: string;
    chainId: string;
    isInitializing: boolean;
    walletConnector: Client | undefined;
    session: SessionTypes.Struct | undefined;
    pairings: PairingTypes.Struct[] | undefined;
    processingTopic: string;
    options: WalletConnectV2ProviderOptionsType;
    private onClientConnect;
    private account;
    constructor(onClientConnect: IClientConnect, chainId: string, walletConnectV2Relay: string, walletConnectV2ProjectId: string, options?: SignClientTypes.Options);
    private disconnect;
    /**
     * Initiates WalletConnect client.
     */
    init(): Promise<boolean>;
    /**
     * Returns true if init() was previously called successfully
     */
    isInitialized(): boolean;
    /**
     * Returns true if provider is initialized and a valid session is set
     */
    isConnected(): boolean;
    /**
     * Returns the current account
     */
    getAccount(): IProviderAccount | null;
    /**
     * Sets the current account
     * @param account
     */
    setAccount(account: IProviderAccount): void;
    connect(options?: ConnectParamsTypes): Promise<{
        uri?: string;
        approval: () => Promise<SessionTypes.Struct>;
    }>;
    login(options?: {
        approval?: () => Promise<SessionTypes.Struct>;
        token?: string;
    }): Promise<IProviderAccount | null>;
    /**
     * Mocks a logout request by returning true
     */
    logout(options?: {
        topic?: string;
    }): Promise<boolean>;
    /**
     * Fetches the WalletConnect address
     */
    getAddress(): string;
    /**
     * Fetches the WalletConnect signature
     */
    getSignature(): string | undefined;
    /**
     * Fetches the WalletConnect pairings
     */
    getPairings(): Promise<PairingTypes.Struct[] | undefined>;
    /**
     * Signs a message and returns it signed
     * @param message
     */
    signMessage(messageToSign: Message): Promise<Message>;
    /**
     * Signs a transaction and returns it signed
     * @param transaction
     */
    signTransaction(transaction: Transaction): Promise<Transaction>;
    /**
     * Signs an array of transactions and returns it signed
     * @param transactions
     */
    signTransactions(transactions: Transaction[]): Promise<Transaction[]>;
    /**
     * Sends a custom request
     * @param request
     */
    sendCustomRequest(options?: {
        request: EngineTypes.RequestParams["request"];
    }): Promise<any>;
    /**
     * Ping helper
     */
    ping(): Promise<boolean>;
    private loginAccount;
    private onSessionConnected;
    private handleTopicUpdateEvent;
    private handleSessionEvents;
    private subscribeToEvents;
    private checkPersistedState;
    private cleanupPendingPairings;
}
